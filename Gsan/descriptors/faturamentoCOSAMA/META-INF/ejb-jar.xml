<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ejb-jar PUBLIC "-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 2.0//EN" "http://java.sun.com/dtd/ejb-jar_2_0.dtd">
<ejb-jar>
	<enterprise-beans>
		<session>
			<display-name>ControladorFaturamentoCOSAMA</display-name>
			<ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
			<local-home>
				gsan.faturamento.ControladorFaturamentoLocalHome
			</local-home>
			<local>
				gsan.faturamento.ControladorFaturamentoLocal
			</local>
			<ejb-class>
				gsan.faturamento.ControladorFaturamentoCOSAMASEJB
			</ejb-class>
			<session-type>Stateless</session-type>
			<transaction-type>Container</transaction-type>
		</session>
	</enterprise-beans>
	<assembly-descriptor>
		<container-transaction>
			<method>
				<ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
				<method-name>*</method-name>
			</method>
			<trans-attribute>Required</trans-attribute>
		</container-transaction>
		<container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>encerrarFaturamentoMes</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <!--Esse metódo foi criado com transação para que no caso de erro na hora 
            da transferência para o histórico, não seja perdido as contas, débito a cobra e 
            crédito a realizar no encerrar faturamento [UC0155] -->
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>gerarHistoricoParaEncerrarFaturamento</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
		<container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>gerarHistoricoDeContasCanceladasParaEncerrarFaturamento</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
		<container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>gerarHistoricoDeDebitosACobrarCanceladosParaEncerrarFaturamento</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
		<container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>gerarHistoricoDeCreditosARealizarCanceladosParaEncerrarFaturamento</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>transferirContasParaHistorico</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>atualizarIndicadorContaNoHistorico</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <!--fim do gerar histórico para encerrar faturamento -->
		<container-transaction>
			<method>
				<ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
				<method-name>gerarFaturaClienteResponsavel</method-name>
			</method>
			<trans-attribute>Never</trans-attribute>
		</container-transaction>
		<!-- metódos do gerar débito a cobrar por acréscimos por impontualidade -->
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>gerarDebitosACobrarDeAcrescimosPorImpontualidade</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>

        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>gerarDebitoACobrarParaConta</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>

        
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>gerarDebitoACobrarParaGuiaPagamento</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <!-- fim dos metódos do gerar débito a cobrar por acréscimos por impontualidade -->
        
		<container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>faturarGrupoFaturamento</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>faturarImovel</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>determinarFaturamentoImovel</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>pesquisarDadosRelatorioFaturasAgrupadas</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
		<container-transaction>
			<method>
				<ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
				<method-name>emitirContas</method-name>
			</method>
			<trans-attribute>Never</trans-attribute>
		</container-transaction>
		
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>atualizarFaturamentoMovimentoCelular</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        
          <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>pesquisarDadosRelatorioAutoInfracao</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>			
		<container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>countRelatorioAutoInfracao</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>preFaturarGrupoFaturamento</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>preFaturarImovel</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>preDeterminarFaturamentoImovel</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>apagarDadosGeradosFaturarGrupoFaturamento</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>gerarArquivoTextoParaFaturamento</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
		<container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>processarMovimentoContaPrefaturada</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>determinarValoresFaturamentoAguaEsgoto</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>calcularValoresAguaEsgoto</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>gerarPeriodoLeituraFaturamento</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
       </container-transaction>
       <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>permiteFaturamentoParaAgua</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
       </container-transaction>
       <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>permiteFaturamentoParaEsgoto</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
       </container-transaction>
       <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>calcularValoresAguaEsgotoTotalizando</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
       </container-transaction>
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>gerarDadosDeclaracaoQuitacaoAnualDebitos</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>gerarArquivoTextoDeclaracaoQuitacaoAnualDebitos</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>  
       
       <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>pesquisarDebitoCreditoSituacaoAtualConta</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
       </container-transaction>
       
              <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>obterContas</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
       </container-transaction>
       <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>atualizarCreditoARealizarNitrato</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
       </container-transaction>
       <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>gerarCreditoSituacaoEspecialFaturamento</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
       </container-transaction>
       
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>prescreverDebitosImoveisPublicosManual</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
       </container-transaction>
       
       <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>prescreverDebitosImoveisPublicosAutomatico</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
       </container-transaction>
       
       <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>inserirDebitosContasComValorFaixasErradas</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
       </container-transaction>
       
        <container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>cancelarGrupoFaturamento</method-name>
              <method-params>
              	<method-param>java.lang.Integer</method-param>
              	<method-param>java.lang.Integer</method-param>
              	<method-param>java.lang.Integer</method-param>              	
              </method-params>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>

	<container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>emitirContasOrgaoPublico</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
	</container-transaction>

	<container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>emitirFichaCompensacao</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
	</container-transaction>

	<container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>formatarEmitirContasHelper</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
	</container-transaction>
	
	<container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>calcularValorSimuladoHistogramaAguaEconomiaSemQuadra</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
	</container-transaction>
	
		<container-transaction>
          <method>
              <ejb-name>ControladorFaturamentoCOSAMA</ejb-name>
              <method-name>calcularValorSimuladoHistogramaEsgotoEconomiaSemQuadra</method-name>
          </method>
            <trans-attribute>NotSupported</trans-attribute>
	</container-transaction>
       
	</assembly-descriptor>
</ejb-jar>
